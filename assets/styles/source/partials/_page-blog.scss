/* ==========================================================================
   Blog pages
   ========================================================================== */

article {
	@include clearfix;
	@include add-grid(24 at 480px);
	@include add-gutter(1/3);
	aside {
		@include breakpoint( $tablet ) {
			@include grid-span(8, 17);
		}
	}
	.entry-content {
		@include breakpoint( $tablet ) {
			@include grid-span(12, 1);
		}
	}
}

.image-wrapper {
	padding: 4px;
	border: 1px solid rgba(0, 0, 0, 0.15);
	margin-bottom: 1em;
	img {
		width: 100%;
	}
}

.grid-wrapper { // wraps the blog archive
	@extend .container;

	.section {
		width: 100%;
		background: #ddd;
		margin-bottom: 10px;
		padding: 2em 2%;
	
		@include breakpoint( $mobile-horizontal ){
			width: $grid-sizer-1;
		}	
		@include breakpoint( $tablet ){
			width: $grid-sizer-2;
		}
	} 
	article {
		.entry-content {
			width: 100%;
			float: none;
			margin: 0;
		}
		h3 {
			margin: 0 0 10px 0;
		}
		.entry-meta {
			margin: 0 0 10px 0;
		}
		&.hentry {
			margin: 0;
		}
		p {
			margin: 0;
		}
	}
}

.blog-post {
	position: relative;
	@include palette-1;
	a {
		&:link, &:visited {
			border-bottom: none;
		}
	}
	
	&:nth-child(2n) {
		@include palette-2;
		a {
			&:link, &:visited {
				border-bottom: none;
			}
		}
		&::before, &::after {
			// background: darken( $color_background-books, 3%);
		}

		&::before {
			background: darken( $color_background-books, 6%);
		}
	}
	
	&::before,
	&::after {
	position: absolute;
	content: '';
	pointer-events: none;
	top: 0;
	left: -25%;
	z-index: 0;
	width: 150%;
	height: 75%;
	background: inherit;
	-webkit-transform: rotate(-2deg);
	transform: rotate(-2deg);
	-webkit-transform-origin: 0 0;
	transform-origin: 0 0;
}

&::before {
	z-index: 0;
	height: 50%;
	background: darken($color_orange, 6%);
	-webkit-transform: rotate(-3deg);
	transform: rotate(-3deg);
	-webkit-transform-origin: 3% 0;
	transform-origin: 3% 0;
}

	.container {
		z-index: 1;
		position: relative;
	}
}
